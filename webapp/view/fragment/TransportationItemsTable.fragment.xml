<core:FragmentDefinition xmlns="sap.m"
                         xmlns:core="sap.ui.core"
                         xmlns:l="sap.ui.layout"
                         xmlns:f="sap.ui.layout.form"
                         xmlns:pm="com.pepsico.core.sap.m">
    <Table
            id="lineItemsList"
            width="auto"
            items="{transportation>TransportationItems}"
            updateFinished="onListUpdateFinished"
            noDataText="{i18n>detailLineItemTableNoDataText}"
            busyIndicatorDelay="{detailView>/lineItemTableDelay}">
        <headerToolbar>
            <Toolbar>
                <Button icon="sap-icon://add" press="onTransportationItemCreateDialogOpen"/>
                <Button icon="sap-icon://simulate"/>
            </Toolbar>
        </headerToolbar>
        <columns>
            <Column>
                <Text text="{i18n>itemNum}"/>
            </Column>
            <Column>
                <Text text="{i18n>material}"/>
            </Column>
            <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    hAlign="End">
                <Text text="{i18n>quantity}"/>
            </Column>
            <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    hAlign="End">
                <Text text="{i18n>volume}"/>
            </Column>
            <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    hAlign="End">
                <Text text="{i18n>weight}"/>
            </Column>
            <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                    hAlign="End">
                <Text text="{i18n>itemActions}"/>
            </Column>
        </columns>
        <items>
            <ColumnListItem type="Navigation">
                <cells>
                    <Text text="{transportation>__metadata/localODataPath}"/>
                    <ObjectIdentifier
                            title="{transportation>Material}"
                            text="{transportation>Description}"/>
                    <VBox alignItems="End">
                        <StepInput value="{Quantity}" displayValuePrecision="2" visible="{transportation>/TransportationDetailsViewProps/IsEditMode}"/>
                        <Text text="{QuantityUom}" width="2rem" visible="{transportation>/TransportationDetailsViewProps/IsEditMode}"/>
                        <ObjectNumber visible="{= ${transportation>/TransportationDetailsViewProps/IsEditMode} !== true}"
                                      number="{
									path: 'Quantity',
									formatter: '.formatter.currencyValue'
								}"
                                      unit="{QuantityUom}"/>
                    </VBox>


                    <ObjectNumber
                            number="{
									path: 'transportation>Volume',
									formatter: '.formatter.currencyValue'
								}"
                            unit="{transportation>VolumeUom}"/>
                    <ObjectNumber
                            number="{
									path: 'transportation>Weight',
									formatter: '.formatter.currencyValue'
								}"
                            unit="{transportation>WeightUom}"/>
                    <Button icon="sap-icon://delete" press="onTransportationItemDelete"
                        enabled="{transportation>/TransportationDetailsViewProps/IsEditMode}"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</core:FragmentDefinition>